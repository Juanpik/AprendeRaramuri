/* style.css */

/* ... (Todos los estilos anteriores sin cambios) ... */

/* ------------------------- */
/* Quiz Section                */
/* ------------------------- */
#quiz-container { background-color: transparent; padding: 0; border: none; box-shadow: none; }
#quiz-setup {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-xl);
    border-bottom: 1px solid var(--border-light);
    text-align: center;
    /* NUEVO: Usar flexbox para alinear elementos en setup */
    display: flex;
    flex-direction: row; /* Por defecto en desktop */
    flex-wrap: wrap; /* Permite que envuelva en móvil */
    justify-content: center; /* Centra elementos */
    align-items: center; /* Alinea verticalmente */
    gap: var(--space-md); /* Espacio entre elementos del setup */
}
#quiz-setup p {
    /* margin-bottom: var(--space-lg); */ /* Eliminado, gestionado por gap */
    margin-bottom: 0; /* Asegurar que no tenga margen inferior */
    font-weight: 400; font-size: 1.1em; color: var(--text-secondary); font-family: var(--font-body);
    flex-basis: 100%; /* Ocupa todo el ancho en desktop para el primer párrafo */
}
#quiz-setup label {
    margin-right: 0; /* Eliminado margen derecho, gestionado por gap */
    color: var(--text-secondary); font-size: 0.95em; font-family: var(--font-body);
}
#quiz-setup select {
    /* padding: var(--space-sm) var(--space-md); */ /* Original */
    padding: var(--space-xs) var(--space-md); /* Ligeramente más pequeño para botones/selects inline */
    /* margin-right: var(--space-lg); */ /* Eliminado margen derecho, gestionado por gap */
    border: 1px solid var(--border-medium); border-radius: var(--border-radius-sm); background-color: var(--white); font-family: var(--font-body); font-size: 1em; color: var(--text-primary);
}
#quiz-setup button#start-quiz {
    font-family: var(--font-heading); background-color: var(--orange-accent); color: var(--white); padding: var(--space-md) var(--space-xl);
    border: none; border-radius: var(--border-radius-sm); cursor: pointer; font-size: 1.1em; font-weight: 500;
    transition: all 0.3s ease; box-shadow: var(--shadow-interactive); text-transform: uppercase; letter-spacing: 0.5px;
    /* margin-top: var(--space-lg); */ /* Eliminado margen superior en desktop, gestionado por gap */
}
#quiz-setup button#start-quiz:hover { background-color: var(--orange-dark); transform: translateY(-2px); box-shadow: var(--shadow-md); }
#quiz-data-error {
    margin-top: var(--space-md); color: #721C24; background-color: var(--error-bg); padding: var(--space-sm); border-radius: var(--border-radius-sm); font-weight: 500; font-family: var(--font-body);
    flex-basis: 100%; /* Ocupa todo el ancho */
}
/* ... (El resto de estilos del Quiz: #quiz-question-area, #quiz-image-container, etc. sin cambios) ... */


/* ------------------------- */
/* Flashcards Section        */
/* ------------------------- */
#flashcards-container {
    max-width: 500px; margin: var(--space-lg) auto; perspective: 1000px;
}
/* NUEVO: Estilos para el contenedor de controles de setup de Flashcards */
#flashcards-setup-controls {
    text-align: center;
    margin-bottom: var(--space-lg);
    display: flex; /* Usar flexbox */
    flex-wrap: wrap; /* Permite que envuelva */
    justify-content: center; /* Centra elementos */
    align-items: center; /* Alinea verticalmente */
    gap: var(--space-md); /* Espacio entre elementos */
    padding-bottom: var(--space-md); /* Espacio antes del contenido/tarjeta */
    border-bottom: 1px solid var(--border-light); /* Línea separadora */
}
#flashcards-setup-controls label {
    color: var(--text-secondary);
    font-size: 0.95em;
    font-family: var(--font-body);
}
#flashcards-setup-controls select {
    padding: var(--space-xs) var(--space-md);
    border: 1px solid var(--border-medium);
    border-radius: var(--border-radius-sm);
    background-color: var(--white);
    font-family: var(--font-body);
    font-size: 1em;
    color: var(--text-primary);
}
#flashcards-data-error {
    color: var(--error-red);
    text-align: center;
    display: none;
    margin-top: var(--space-sm);
    flex-basis: 100%; /* Ocupa todo el ancho */
    font-size: 0.95em;
}

#flashcard-display-area { margin-bottom: var(--space-lg); }
.flashcard {
    width: 100%; height: 300px; position: relative; transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
    border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);
}
.flashcard.flipped { transform: rotateY(180deg); }
.flashcard-face {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; backface-visibility: hidden;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    padding: var(--space-lg); box-sizing: border-box; border-radius: inherit;
    border: 1px solid var(--border-light); text-align: center; overflow-wrap: break-word;
}
.flashcard-face.card-front {
    background-color: var(--content-bg); z-index: 2; transform: rotateY(0deg);
    font-size: 2em; color: var(--text-primary); font-family: var(--font-body);
}
.flashcard-face.card-back {
    background-color: var(--blue-light-bg); transform: rotateY(180deg); z-index: 1;
    font-size: 2.2em; color: var(--orange-dark); font-family: var(--font-heading);
    font-weight: 600;
}
.flashcard-face img {
    max-width: 85%; max-height: 75%; object-fit: contain;
    margin-bottom: var(--space-md);
}
.flashcard-face p {
    font-size: 0.85em; margin-bottom: 0; color: var(--text-secondary);
}

#flashcard-controls {
    display: flex; flex-wrap: wrap; justify-content: center;
    align-items: center; gap: var(--space-md);
    margin-top: var(--space-lg);
}
#flashcard-controls button {
    font-family: var(--font-heading); padding: var(--space-sm) var(--space-lg); border: none;
    border-radius: var(--border-radius-sm); cursor: pointer; font-size: 0.95em; font-weight: 500;
    transition: all 0.2s ease-out; box-shadow: var(--shadow-interactive); min-width: auto;
    text-transform: uppercase; letter-spacing: 0.5px; color: var(--white); vertical-align: middle;
    margin: 0; flex-grow: 0; flex-shrink: 1;
}
#flashcard-controls button:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
#flashcard-controls button:active { transform: translateY(0); filter: brightness(0.95); }
#prev-flashcard-btn, #next-flashcard-btn { background-color: var(--blue-primary); }
#prev-flashcard-btn:hover, #next-flashcard-btn:hover { background-color: var(--blue-dark); }
#flip-flashcard-btn {
    background-color: var(--orange-accent); font-weight: 700;
    padding: var(--space-md) var(--space-xl); font-size: 1em; order: 0;
}
#flip-flashcard-btn:hover { background-color: var(--orange-dark); }
#shuffle-flashcards-btn {
    background-color: var(--text-secondary); font-size: 0.85em;
    padding: var(--space-xs) var(--space-sm);
}
#shuffle-flashcards-btn:hover { background-color: var(--text-primary); }
#shuffle-flashcards-btn svg { margin-bottom: -2px; }
#flashcard-counter { font-family: var(--font-body); color: var(--text-secondary); font-size: 0.9em; }

/* ------------------------- */
/* Footer                    */
/* ------------------------- */
footer {
    text-align: center;
    margin-top: var(--space-xxl);
    padding: var(--space-lg);
    background-color: var(--blue-light-bg);
    color: var(--text-secondary);
    border-top: 1px solid var(--border-light);
}

footer img {
    display: block;
    margin-left: auto;
    margin-right: auto;
    max-height: 45px; /* Ajusta esto según tu logo */
    max-width: 100%;
    height: auto;
}

/* ------------------------- */
/* Responsive Adjustments    */
/* ------------------------- */
@media (max-width: 992px) {
    #memorama-grid { max-width: 95%; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
    .memorama-card { height: 145px; }
    .memorama-card .card-front p { font-size: 1em; }
    #flashcards-container { max-width: 90%; }
    .flashcard { height: 250px; }
}
@media (max-width: 768px) {
    header > h1 { font-size: 2.5em; }
    nav button { padding: var(--space-xs) var(--space-sm); font-size: 0.8em; letter-spacing: 0.5px;}
    main { padding: var(--space-lg); margin: var(--space-lg) auto; width: 98%; }
    h2 { font-size: 1.7em; }
    #about h2 { font-size: 1.7em; }
    #lexicon-grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: var(--space-lg);}
    .lexicon-item img { width: 110px; height: 110px; }
    .category-filter-container { gap: var(--space-xs); }
    button.category-filter-btn { font-size: 0.85em; padding: var(--space-xs) var(--space-sm); }
    #lexicon-search {
        padding: var(--space-sm) var(--space-lg);
        width: 95%;
    }
    #quiz-options button { padding: var(--space-md); }
    #quiz-text-input-area { flex-direction: column; gap: var(--space-md); }
    #quiz-text-answer, #quiz-text-input-area button#submit-text-answer { width: 100%; }
    #quiz-results button { width: calc(50% - var(--space-lg)); min-width: 150px; }
    #memorama-grid { grid-template-columns: repeat(auto-fit, minmax(125px, 1fr)); }
    .memorama-card { height: 130px; }
    #flashcards-container { max-width: 95%; }
    .flashcard { height: 220px; }
    .flashcard-face.card-front { font-size: 1.5em; }
    .flashcard-face.card-back { font-size: 1.7em; }
    #flashcard-controls button { font-size: 0.9em; min-width: 80px; padding: var(--space-xs) var(--space-sm); }

    /* Ajustes para el setup del Quiz en móvil */
    #quiz-setup {
        flex-direction: column; /* Apilar elementos verticalmente */
        gap: var(--space-lg); /* Aumentar espacio entre filas */
    }
     #quiz-setup p, #quiz-data-error {
         flex-basis: auto; /* No forzar ancho completo si hay otros elementos apilados */
     }
     #quiz-setup label {
         margin-right: var(--space-sm); /* Re-añadir un pequeño margen para separar de su select */
     }
     #quiz-setup select {
         margin-right: 0; /* Eliminar el margen derecho si se apilan */
     }

    /* Margen superior para el botón Empezar Quiz en pantallas medianas/pequeñas */
    #quiz-setup button#start-quiz {
         margin-top: 0; /* Eliminar el margen superior si ya está gestionado por gap */
    }

    /* Ajustes para el setup de Flashcards en móvil */
    #flashcards-setup-controls {
         flex-direction: column; /* Apilar elementos verticalmente */
         gap: var(--space-lg); /* Aumentar espacio */
     }
     #flashcards-setup-controls label {
         margin-right: var(--space-sm); /* Re-añadir un pequeño margen */
     }
     #flashcards-setup-controls select {
         margin-right: 0; /* Eliminar el margen derecho */
     }
     #flashcards-data-error {
         flex-basis: auto; /* No forzar ancho completo */
     }
}
@media (max-width: 576px) {
    header > h1 { font-size: 2.2em; }
    header { padding: var(--space-xs) var(--space-sm); }
    nav button { margin: 3px; padding: 5px 10px; font-size: 0.75em;}
    main { padding: var(--space-md); }
    h2 { font-size: 1.5em; }
    #about h2 { font-size: 1.5em; }
    #lexicon-grid { grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); }
    .lexicon-item img { width: 90px; height: 90px; }
    .category-filter-container { padding-bottom: var(--space-md); }
    button.category-filter-btn { font-size: 0.8em; }
    #lexicon-search {
        padding: var(--space-sm) var(--space-lg);
        font-size: 1em;
    }
    #memorama-grid { grid-template-columns: repeat(3, 1fr); gap: var(--space-md); }
    .memorama-card { height: 110px; }
    .memorama-card .card-front p { font-size: 0.9em; }
    .memorama-card .card-back::before { font-size: 3.2em; }
    #quiz-options { max-width: 95%; }
    #quiz-text-input-area { max-width: 95%; }
    #quiz-results button { width: 90%; margin: var(--space-sm) auto; display: block;}
    .flashcard { height: 200px; }
    .flashcard-face.card-front { font-size: 1.3em; }
    .flashcard-face.card-back { font-size: 1.5em; }
    #flashcard-controls { gap: var(--space-sm); }
    #flashcard-controls button { font-size: 0.9em; padding: var(--space-sm) var(--space-md); }
    #flip-flashcard-btn { order: -1; flex-basis: 100%; margin-bottom: var(--space-sm); }
    #prev-flashcard-btn, #next-flashcard-btn { flex-grow: 1; flex-basis: 40%; }
    #shuffle-flashcards-btn { flex-basis: 100%; margin-top: var(--space-sm); }

    /* Quiz setup layout adjustment for very small screens */
     #quiz-setup {
         gap: var(--space-md); /* Reducir espacio */
         padding-bottom: var(--space-lg); /* Asegurar espacio */
     }

     /* Flashcards setup layout adjustment for very small screens */
      #flashcards-setup-controls {
         gap: var(--space-md); /* Reducir espacio */
         padding-bottom: var(--space-md); /* Asegurar espacio */
     }
}
@media (max-width: 420px) {
     header > h1 { font-size: 2em; }
     button.category-filter-btn { font-size: 0.75em; padding: 4px 8px; }
     #lexicon-search {
         padding: var(--space-sm) var(--space-lg);
         font-size: 0.95em;
     }
     #memorama-grid { grid-template-columns: repeat(3, 1fr); gap: var(--space-sm); }
     .memorama-card { height: 95px; border-radius: var(--border-radius-sm); }
     .memorama-card .card-front p { font-size: 0.8em; }
     .memorama-card .card-back::before { font-size: 2.5em; }
     .flashcard { height: 180px; }
     .flashcard-face.card-front { font-size: 1.2em; }
     .flashcard-face.card-back { font-size: 1.4em; }
     #flashcard-controls button { font-size: 0.85em; padding: var(--space-xs) var(--space-sm); }
     #flip-flashcard-btn { font-size: 0.95em; padding: var(--space-sm) var(--space-md);}
}
